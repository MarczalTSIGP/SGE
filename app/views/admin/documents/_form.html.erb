<%= simple_form_for [:admin, @document], html: { multipart: true } do |f| %>

  <%= f.input :kind, as: :radio_buttons, collection: Document.human_kinds,
              item_wrapper_class: 'inline custom-control custom-radio custom-control-inline' %>

  <%= f.input :description, as: :summernote, label: t("helpers.label.document.description_front") %>
  <%= f.input :activity, as: :summernote, label: t("helpers.label.document.activity_verse") %>

  <%= f.label :users %>

  <div id='users_documents'>
    <%= f.simple_fields_for :users_documents do |user| %>
      <%= render 'users_document_fields', f: user %>
    <% end %>

    <div class='links mb-5'>
      <%= link_to_add_association f, :users_documents,
                                  title: t('helpers.links.title.add_users'),
                                  data: { toggle: 'tooltip', placement: 'top' },
                                  class: 'btn btn-secondary',
                                  partial: 'users_document_fields' do %>
        <i class="fe fe-plus"></i>
      <% end %>
    </div>
  </div>

  <div class='d-flex'>
    <%= link_to t('helpers.links.all.m', model: t('activerecord.models.document.other')),
                admin_documents_path, class: 'btn btn-secondary' %>
    <%= f.button :submit, class: 'btn btn-primary ml-auto' %>
    <%= f.button :button, t('helpers.buttons.preview'), id: 'preview-button', name: 'preview_button' %>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Preview</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-12">
              <%= render 'pdf', document: @document %>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal"><%= t('helpers.buttons.close') %></button>
        </div>
      </div>
    </div>
  </div>
<% end %>
